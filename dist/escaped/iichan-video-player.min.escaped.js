try{eval("(()=>{const e=[\"webm\",\"mp4\",\"ogv\"],t=e=>{const t=JSON.parse(window.localStorage.getItem(\"iichan_video_settings\")||\"{}\");if(t.hasOwnProperty(\"enableSound\")||(t.enableSound=!1),e.target.classList.contains(\"iichan-mute-video-checkbox\"))return setTimeout(()=>e.target.checked=!e.target.checked,0),t.enableSound=e.target.checked,window.localStorage.setItem(\"iichan_video_settings\",JSON.stringify(t)),void e.preventDefault();const n=e.currentTarget.parentNode;if(\"on\"===e.currentTarget.videoMode)e.currentTarget.videoMode=\"off\",n.removeChild(document.getElementById(e.currentTarget.videoplayerid)),e.currentTarget.innerHTML=e.currentTarget.thumbHTML;else{e.currentTarget.videoMode=\"on\";const r=document.createElement(\"video\");r.id=\"video\"+(\"\"+Math.random()).replace(/\\D/g,\"\"),r.poster=e.currentTarget.thumbSrc,r.src=e.currentTarget.href,r.autoplay=!0,r.controls=!0,r.loop=!0,r.muted=!t.enableSound,r.classList.add(\"iichan-video-player\"),e.currentTarget.videoplayerid=r.id,n.insertBefore(r,e.currentTarget.nextSibling);const o=t.enableSound?\"checked\":\"\";e.currentTarget.innerHTML=`\\n    <div>\\n      <input type=\"checkbox\" ${o} class=\"iichan-mute-video-checkbox\" title=\"Включить звук при открытии видео\">\\n      <div class=\"iichan-hide-video-btn\" title=\"Свернуть видео\">[Свернуть видео]</div>\\n    </div>\\n    `}e.preventDefault()},n=n=>{const r=(n||document).querySelectorAll(\".thumb\");for(const n of r){const r=n.parentNode;if(!r)continue;const o=r.href.split(\".\").pop();e.includes(o)&&(r.thumbSrc=n.src,r.thumbHTML=r.innerHTML,r.addEventListener(\"click\",t))}},r=()=>{if(!document.querySelector(\"#de-main\")&&((()=>document.head.insertAdjacentHTML(\"beforeend\",'<style type=\"text/css\">\\n    .iichan-video-player {\\n      max-width: 100%;\\n      height: auto;\\n      box-sizing: border-box;\\n      padding: 2px 20px;\\n      margin: 0;\\n    }\\n    .iichan-hide-video-btn {\\n      padding: 2px 20px;\\n    }\\n    .iichan-mute-video-checkbox {\\n      float: right;\\n    }\\n  </style>'))(),n(),\"MutationObserver\"in window)){new MutationObserver(e=>{e.forEach(e=>{for(const t of e.addedNodes){if(!t.querySelectorAll)return;n(t)}})}).observe(document.body,{childList:!0,subtree:!0})}};document.body?r():document.addEventListener(\"DOMContentLoaded\",r)})();");}catch(e){}