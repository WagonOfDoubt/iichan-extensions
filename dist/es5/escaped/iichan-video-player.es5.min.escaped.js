try{eval("\"use strict\";!function(){var e=[\"webm\",\"mp4\",\"ogv\"],n=function(e){var n=JSON.parse(window.localStorage.getItem(\"iichan_video_settings\")||\"{}\");if(n.hasOwnProperty(\"enableSound\")||(n.enableSound=!1),e.target.classList.contains(\"iichan-mute-video-checkbox\"))return setTimeout(function(){return e.target.checked=!e.target.checked},0),n.enableSound=e.target.checked,window.localStorage.setItem(\"iichan_video_settings\",JSON.stringify(n)),void e.preventDefault();var t=e.currentTarget.parentNode;if(\"on\"===e.currentTarget.videoMode)e.currentTarget.videoMode=\"off\",t.removeChild(document.getElementById(e.currentTarget.videoplayerid)),e.currentTarget.innerHTML=e.currentTarget.thumbHTML;else{e.currentTarget.videoMode=\"on\";var i=document.createElement(\"video\");i.id=\"video\"+(\"\"+Math.random()).replace(/\\D/g,\"\"),i.poster=e.currentTarget.thumbSrc,i.src=e.currentTarget.href,i.autoplay=!0,i.controls=!0,i.loop=!0,i.muted=!n.enableSound,i.classList.add(\"iichan-video-player\"),e.currentTarget.videoplayerid=i.id,t.insertBefore(i,e.currentTarget.nextSibling);var r=n.enableSound?\"checked\":\"\";e.currentTarget.innerHTML='\\n    <div>\\n      <input type=\"checkbox\" '.concat(r,' class=\"iichan-mute-video-checkbox\" title=\"Включить звук при открытии видео\">\\n      <div class=\"iichan-hide-video-btn\" title=\"Закрыть видео\"><span><svg>\\n        <use class=\"iichan-icon-video-close-use\" xlink:href=\"/extras/icons.svg#iichan-icon-close\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"/>\\n      </svg>Закрыть видео</span></div>\\n    </div>\\n    ')}e.preventDefault()},t=function(t){var i=(t||document.body).querySelectorAll(\".thumb\"),r=!0,o=!1,a=void 0;try{for(var c,d=i[Symbol.iterator]();!(r=(c=d.next()).done);r=!0){var l=c.value,u=l.parentNode;if(u){var s=u.href.split(\".\").pop();e.includes(s)&&(u.thumbSrc=l.src,u.thumbHTML=u.innerHTML,u.addEventListener(\"click\",n))}}}catch(e){o=!0,a=e}finally{try{r||null==d.return||d.return()}finally{if(o)throw a}}},i=function(){return document.body.classList.contains(\"de-runned\")||!!document.body.querySelector(\"#de-main\")},r=function(){i()||(JSON.parse(window.localStorage.getItem(\"iichan_settings\")||\"{}\").disable_video_player||(document.head.insertAdjacentHTML(\"beforeend\",\"<style type=\\\"text/css\\\">\\n    .iichan-video-player {\\n      max-width: 100%;\\n      height: auto;\\n      box-sizing: border-box;\\n      padding: 2px 20px;\\n      margin: 0;\\n    }\\n    \\n    .iichan-hide-video-btn {\\n      margin: 2px 20px;\\n    }\\n    \\n    .iichan-mute-video-checkbox {\\n      float: right;\\n    }\\n    \\n    .iichan-hide-video-btn > span::before {\\n      content: '[';\\n    }\\n    \\n    .iichan-hide-video-btn > span::after {\\n      content: ']';\\n    }\\n    \\n    .iichan-hide-video-btn svg {\\n      width: 16px;\\n      height: 16px;\\n      vertical-align: text-top;\\n    }\\n    \\n    .iichan-hide-video-btn use {\\n      pointer-events: none;\\n    }\\n    \\n    #iichan-video-player-icons {\\n      display: none;\\n    }\\n    \\n    a.imglink {\\n      text-decoration: none;\\n    }\\n  </style>\"),t(),\"MutationObserver\"in window&&new MutationObserver(function(e){i()||e.forEach(function(e){var n=!0,i=!1,r=void 0;try{for(var o,a=e.addedNodes[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var c=o.value;if(!c.querySelectorAll)return;t(c)}}catch(e){i=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}})}).observe(document.body,{childList:!0,subtree:!0})))};document.body?r():document.addEventListener(\"DOMContentLoaded\",r)}();");}catch(e){}