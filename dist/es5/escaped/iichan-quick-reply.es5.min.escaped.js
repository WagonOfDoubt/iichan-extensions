try{eval("\"use strict\";!function(){var e,n,t={key:\"mainpage\",dummy:\"\",url:\"/cgi-bin/captcha1.pl/b/\"},r=function(){var e=document.createElement(\"table\");return e.insertAdjacentHTML(\"beforeend\",'\\n        <tr>\\n        \\t<td class=\"doubledash\">&gt;&gt;</td>\\n        \\t<td class=\"'.concat(\"iichan-postform-container\",' reply\"></td>\\n        </tr>\\n        \\n      ')),e.id=\"iichan-quick-reply-container\",{quickReplyContainer:e,postformContainer:e.querySelector(\".iichan-postform-container\")}}(),i=r.quickReplyContainer,a=r.postformContainer,c=((e=document.createElement(\"a\")).classList.add(\"iichan-quick-reply-show-form-btn\"),e),o=((n=document.createElement(\"input\")).setAttribute(\"type\",\"hidden\"),n.setAttribute(\"name\",\"parent\"),n),l=function(){var e=document.querySelector(\"#captcha\");if(e){var n=t.url,r=t.key,i=t.dummy;e.src=\"\".concat(n,\"?key=\").concat(r,\"&dummy=\").concat(i,\"&\").concat(Math.random())}},d=function(e){if(e){var n=e.id.substr(\"thread-\".length),r=e.querySelector(\"table:last-child .reply\"),i=r?r.id.substr(\"reply\".length):n;t.key=\"res\".concat(n),t.dummy=i}else t.key=\"mainpage\",t.dummy=\"\";l()},u=function(e,n){var t=e.querySelector(\"[name=parent]\");n?(t||(t=o,e.appendChild(t)),t.setAttribute(\"value\",n)):t&&e.removeChild(t)},s=function(e,n){for(var t=e;t&&t!==document&&!t.matches(n);)t=t.parentNode;return t===document?null:t},p=function(e){var n=document.querySelector(\"[name=nya4]\");n&&(n.focus(!1),e&&(e=\">>\".concat(e,\"\\n\"),n.value.endsWith(e)||(n.value.length&&!n.value.endsWith(\"\\n\")&&(e=\"\\n\"+e),n.setRangeText(e,n.textLength,n.textLength,\"end\"))))},y=function(){var e=document.querySelector(\".postarea\");e&&e.appendChild(c)},h=function(e,n){var t=document.querySelector(\".postarea\");if(t&&(t.appendChild(e),n&&p()),i.parentNode&&i.parentNode.removeChild(i),c.parentNode&&c.parentNode.removeChild(c),document.body.classList.contains(\"replypage\")){var r=document.querySelector(\"[id^=thread]\"),a=r.id.substr(\"thread-\".length);u(e,a),d(r)}else u(e,null),d()},m=function(e){var n=document.querySelector(\"#postform\");n&&(e?n.dataset.replyTo===e.id?(n.dataset.replyTo=\"\",h(n,!1)):e.classList.contains(\"reply\")?(n.dataset.replyTo=e.id,function(e,n){var t=s(n,\"table\"),r=s(n,\"[id^=thread]\");if(t&&r){var c=r.id.substr(\"thread-\".length),o=n.id.substr(\"reply\".length);a.appendChild(e),t.parentNode.insertBefore(i,t.nextSibling),y(),u(e,c),d(r),p(o)}}(n,e)):(n.dataset.replyTo=e.id,function(e,n){var t=n.querySelector(\"table\"),r=n.id.substr(\"thread-\".length);a.appendChild(e),n.insertBefore(i,t),y(),u(e,r),d(n),p(r)}(n,e)):(n.dataset.replyTo=\"\",h(n,!0)))},f=function(e){for(var n=e.target;n&&!n.classList.contains(\"iichan-quick-reply-btn\");)n=n.parentElement;if(n){var t=document.getElementById(n.dataset.postId);m(t)}e.preventDefault()},v=function(e){if(e){var n=e.querySelector(\":scope > .reflink\");if(n)n.insertAdjacentHTML(\"afterend\",'\\n    <div class=\"'.concat(\"iichan-quick-reply-btn\",'\" title=\"').concat(\"Быстрый ответ\",'\" data-post-id=\"').concat(e.id,'\">\\n      <svg>\\n        <use class=\"iichan-icon-reply-use\" xlink:href=\"#iichan-icon-reply\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"/>\\n      </svg>\\n    </div>\\n  ')),e.querySelector(\".\".concat(\"iichan-quick-reply-btn\")).addEventListener(\"click\",f)}},b=function(e){var n=(e||document).querySelectorAll(\".reply, [id^=thread]\"),t=!0,r=!1,i=void 0;try{for(var a,c=n[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var o=a.value;v(o)}}catch(e){r=!0,i=e}finally{try{t||null==c.return||c.return()}finally{if(r)throw i}}},q=function(){if(!document.querySelector(\"#de-main\")){var e=document.querySelector(\"#captcha\");e&&(t.url=e.getAttribute(\"src\").match(/[^\\?]*/)[0]);var n,r=document.querySelector(\"input[name=captcha] + a\");if(r&&(r.removeAttribute(\"onclick\"),r.addEventListener(\"click\",function(e){l(),e.preventDefault()})),document.body.classList.contains(\"replypage\")){var i=document.querySelector(\"[id^=thread]\");d(i)}else d();if(document.head.insertAdjacentHTML(\"beforeend\",'<style type=\"text/css\">\\n      .'.concat(\"iichan-quick-reply-btn\",\" {\\n        display: inline-block;\\n        width: 16px;\\n        height: 16px;\\n        vertical-align: text-top;\\n      }\\n      \\n      .\").concat(\"iichan-quick-reply-btn\",\" > svg {\\n        width: 16px;\\n        height: 16px;\\n      }\\n      \\n      .\").concat(\"iichan-quick-reply-btn\",\" use {\\n        pointer-events: none;\\n      }\\n      \\n      .replypage .\").concat(\"iichan-quick-reply-show-form-btn\",\"::after {\\n        content: '[Показать форму ответа]';\\n      }\\n      \\n      .\").concat(\"iichan-quick-reply-show-form-btn\",\"::after {\\n        content: '[Создать тред]';\\n      }\\n      \\n      .\").concat(\"iichan-quick-reply-show-form-btn\",\",\\n      .\").concat(\"iichan-quick-reply-btn\",\" {\\n        cursor: pointer;\\n      }\\n      \\n      #\").concat(\"iichan-quick-reply-container\",\" .rules {\\n        display: none;\\n      }\\n      \\n      #iichan-quick-reply-icons {\\n        display: none;\\n      }\\n    </style>\")),n='<div id=\"iichan-quick-reply-icons\">\\n    '.concat('\\n    <svg xmlns=\"http://www.w3.org/2000/svg\">\\n      <symbol id=\"iichan-icon-reply\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\\n        <path\\n          fill=\"currentcolor\"\\n          d=\"M 8,0.98745 A 7.0133929,5.9117254 0 0 0 0.986328,6.89859 7.0133929,5.9117254 0 0 0 3.037109,11.07043 L 1.835937,15.01255 6.230469,12.61078 A 7.0133929,5.9117254 0 0 0 8,12.80973 7.0133929,5.9117254 0 0 0 15.013672,6.89859 7.0133929,5.9117254 0 0 0 8,0.98745 Z\"/>\\n      </symbol>\\n    </svg>\\n  ',\"\\n  </div>\"),document.body.insertAdjacentHTML(\"beforeend\",n),b(),c.addEventListener(\"click\",function(e){m(),e.preventDefault()}),\"MutationObserver\"in window)new MutationObserver(function(e){e.forEach(function(e){var n=!0,t=!1,r=void 0;try{for(var i,a=e.addedNodes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var c=i.value;if(!c.querySelectorAll)return;b(c)}}catch(e){t=!0,r=e}finally{try{n||null==a.return||a.return()}finally{if(t)throw r}}})}).observe(document.body,{childList:!0,subtree:!0})}};document.body?q():document.addEventListener(\"DOMContentLoaded\",q)}();");}catch(e){}