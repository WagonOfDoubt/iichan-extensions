try{eval("\"use strict\";!function(){var e,n,t={key:\"mainpage\",dummy:\"\",url:\"/cgi-bin/captcha1.pl/b/\"},r=function(){var e=document.createElement(\"table\");return e.insertAdjacentHTML(\"beforeend\",'\\n        <tr>\\n        \\t<td class=\"doubledash\">&gt;&gt;</td>\\n        \\t<td class=\"iichan-postform-container reply\">\\n           <div class=\"theader\">Ответ в тред №<span class=\"iichan-quick-reply-thread\"></span><div class=\"iichan-quick-reply-close-form-btn\" title=\"Закрыть форму\"><svg>\\n            <use class=\"iichan-icon-form-close-use\" xlink:href=\"#iichan-icon-form-close\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"/>\\n          </svg></div></div>\\n          </td>\\n        </tr>\\n        \\n      '),e.id=\"iichan-quick-reply-container\",e.querySelector(\".iichan-quick-reply-close-form-btn\").addEventListener(\"click\",function(e){return m(null,!0)}),{quickReplyContainer:e,postformContainer:e.querySelector(\".iichan-postform-container\")}}(),i=r.quickReplyContainer,c=r.postformContainer,a=((e=document.createElement(\"a\")).classList.add(\"iichan-quick-reply-show-form-btn\"),e),o=((n=document.createElement(\"input\")).setAttribute(\"type\",\"hidden\"),n.setAttribute(\"name\",\"parent\"),n),l=function(){var e=document.querySelector(\"#captcha\");if(e){var n=t.url,r=t.key,i=t.dummy;e.src=\"\".concat(n,\"?key=\").concat(r,\"&dummy=\").concat(i,\"&\").concat(Math.random())}},d=function(e){if(e){var n=e.id.substr(\"thread-\".length),r=e.querySelector(\"table:last-child .reply\"),i=r?r.id.substr(\"reply\".length):n;t.key=\"res\".concat(n),t.dummy=i}else t.key=\"mainpage\",t.dummy=\"\";l()},u=function(e,n){var t=i.querySelector(\".iichan-quick-reply-thread\");t&&(t.textContent=n||\"\");var r=e.querySelector(\"[name=parent]\");n?(r||(r=o,e.appendChild(r)),r.setAttribute(\"value\",n)):r&&e.removeChild(r)},s=function(e,n){for(var t=e;t&&t!==document&&!t.matches(n);)t=t.parentNode;return t===document?null:t},h=function(e){var n=document.querySelector(\"[name=nya4]\");n&&(n.focus(!1),e&&(e=\">>\".concat(e,\"\\n\"),n.value.endsWith(e)||(n.value.length&&!n.value.endsWith(\"\\n\")&&(e=\"\\n\"+e),n.setRangeText(e,n.textLength,n.textLength,\"end\"))))},p=function(){var e=document.querySelector(\".postarea\");e&&e.appendChild(a);var n=document.querySelector(\"body > .theader\");n&&(n.style.display=\"none\")},y=function(e,n){var t=document.querySelector(\".postarea\");if(t&&(t.appendChild(e),n&&h()),i.parentNode&&i.parentNode.removeChild(i),a.parentNode){var r=document.querySelector(\"body > .theader\");r&&(r.style.display=null),a.parentNode.removeChild(a)}if(document.body.classList.contains(\"replypage\")){var c=document.querySelector(\"[id^=thread]\"),o=c.id.substr(\"thread-\".length);u(e,o),d(c)}else u(e,null),d()},m=function(e,n){var t=document.querySelector(\"#postform\");t&&(e?t.dataset.replyTo===e.id?(t.dataset.replyTo=\"\",y(t,!1)):e.classList.contains(\"reply\")?(t.dataset.replyTo=e.id,function(e,n){var t=s(n,\"table\"),r=s(n,\"[id^=thread]\");if(t&&r){var a=r.id.substr(\"thread-\".length),o=n.id.substr(\"reply\".length);c.appendChild(e),t.parentNode.insertBefore(i,t.nextSibling),p(),u(e,a),d(r),h(o)}}(t,e)):(t.dataset.replyTo=e.id,function(e,n){var t=n.querySelector(\"table\"),r=n.id.substr(\"thread-\".length);c.appendChild(e),n.insertBefore(i,t),p(),u(e,r),d(n),h(r)}(t,e)):(t.dataset.replyTo=\"\",y(t,!n)))},f=function(e){for(var n=e.target;n&&!n.classList.contains(\"iichan-quick-reply-btn\");)n=n.parentElement;if(n){var t=document.getElementById(n.dataset.postId);m(t)}e.preventDefault()},v=function(e){if(e){var n=e.querySelector(\":scope > .reflink\");if(n)n.insertAdjacentHTML(\"afterend\",'\\n    <div class=\"iichan-quick-reply-btn\" title=\"Быстрый ответ\" data-post-id=\"'.concat(e.id,'\">\\n      <svg>\\n        <use class=\"iichan-icon-reply-use\" xlink:href=\"#iichan-icon-reply\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"/>\\n      </svg>\\n    </div>\\n  ')),e.querySelector(\".iichan-quick-reply-btn\").addEventListener(\"click\",f)}},b=function(e){var n=(e||document).querySelectorAll(\".reply, [id^=thread]\"),t=!0,r=!1,i=void 0;try{for(var c,a=n[Symbol.iterator]();!(t=(c=a.next()).done);t=!0){var o=c.value;v(o)}}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}},q=function(){if(!document.querySelector(\"#de-main\")){var e=document.querySelector(\"#captcha\");e&&(t.url=e.getAttribute(\"src\").match(/[^\\?]*/)[0]);var n=document.querySelector(\"input[name=captcha] + a\");if(n&&(n.removeAttribute(\"onclick\"),n.addEventListener(\"click\",function(e){l(),e.preventDefault()})),document.body.classList.contains(\"replypage\")){var r=document.querySelector(\"[id^=thread]\");d(r)}else d();if(document.head.insertAdjacentHTML(\"beforeend\",\"<style type=\\\"text/css\\\">\\n      .iichan-quick-reply-btn {\\n        display: inline-block;\\n        width: 16px;\\n        height: 16px;\\n        vertical-align: text-top;\\n      }\\n      \\n      .iichan-quick-reply-btn > svg {\\n        width: 16px;\\n        height: 16px;\\n      }\\n      \\n      .iichan-quick-reply-btn use {\\n        pointer-events: none;\\n      }\\n      \\n      .replypage .iichan-quick-reply-show-form-btn::after {\\n        content: '[Показать форму ответа]';\\n      }\\n      \\n      .iichan-quick-reply-show-form-btn::after {\\n        content: '[Создать тред]';\\n      }\\n      \\n      .iichan-quick-reply-show-form-btn,\\n      .iichan-quick-reply-btn {\\n        cursor: pointer;\\n      }\\n      \\n      #iichan-quick-reply-container .rules {\\n        display: none;\\n      }\\n      \\n      #iichan-quick-reply-icons {\\n        display: none;\\n      }\\n      \\n      .iichan-postform-container .theader {\\n        width: auto;\\n      }\\n      \\n      .iichan-quick-reply-close-form-btn {\\n        float: right;\\n        cursor: pointer;\\n        padding: 1px;\\n      }\\n      \\n      .iichan-quick-reply-close-form-btn svg {\\n        width: 16px;\\n        height: 16px;\\n        vertical-align: text-top;\\n      }\\n      \\n      .iichan-quick-reply-close-form-btn use {\\n        pointer-events: none;\\n      }\\n      \\n    </style>\"),document.body.insertAdjacentHTML(\"beforeend\",'<div id=\"iichan-quick-reply-icons\">\\n    <svg xmlns=\"http://www.w3.org/2000/svg\">\\n      <symbol id=\"iichan-icon-reply\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\\n        <path\\n          fill=\"currentcolor\"\\n          d=\"M 8,0.98745 A 7.0133929,5.9117254 0 0 0 0.986328,6.89859 7.0133929,5.9117254 0 0 0 3.037109,11.07043 L 1.835937,15.01255 6.230469,12.61078 A 7.0133929,5.9117254 0 0 0 8,12.80973 7.0133929,5.9117254 0 0 0 15.013672,6.89859 7.0133929,5.9117254 0 0 0 8,0.98745 Z\"/>\\n      </symbol>\\n      <symbol id=\"iichan-icon-form-close\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\\n        <path\\n          fill=\"currentcolor\"\\n          d=\"m 11.734373,2.0393046 c -0.551714,0.0032 -1.101132,0.214707 -1.521485,0.636719 l -2.2656251,2.275391 -2.359375,-2.314453 c -0.798816,-0.783843 -2.079336,-0.777297 -2.86914,0.01563 l -0.171875,0.171875 c -0.789805,0.792922 -0.781239,2.063814 0.01758,2.847656 l 2.359375,2.314453 -2.304688,2.3125004 c -0.840706,0.844025 -0.83272,2.194937 0.01758,3.029297 l 0.01172,0.01172 c 0.850299,0.834359 2.212029,0.826446 3.052734,-0.01758 l 2.302735,-2.3125 2.4101561,2.363281 c 0.798817,0.783842 2.077383,0.777297 2.867188,-0.01563 l 0.171875,-0.173828 c 0.789804,-0.792922 0.781238,-2.061861 -0.01758,-2.845703 l -2.408204,-2.3632824 2.265625,-2.27539 c 0.840706,-0.844025 0.832721,-2.194938 -0.01758,-3.029297 l -0.0098,-0.01172 c -0.42515,-0.41718 -0.979537,-0.622294 -1.53125,-0.619141 z\"/>\\n      </symbol>\\n    </svg>\\n  </div>'),b(),a.addEventListener(\"click\",function(e){m(),e.preventDefault()}),\"MutationObserver\"in window)new MutationObserver(function(e){e.forEach(function(e){var n=!0,t=!1,r=void 0;try{for(var i,c=e.addedNodes[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var a=i.value;if(!a.querySelectorAll)return;b(a)}}catch(e){t=!0,r=e}finally{try{n||null==c.return||c.return()}finally{if(t)throw r}}})}).observe(document.body,{childList:!0,subtree:!0})}};document.body?q():document.addEventListener(\"DOMContentLoaded\",q)}();");}catch(e){}