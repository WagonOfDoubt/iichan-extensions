try{eval("\"use strict\";!function(){var e=window.location.href.match(/(?:[\\w\\.]+\\/)(.*)(?=\\/)/)[1],n=function(){var e=JSON.parse(window.localStorage.getItem(\"iichan_hidden_threads\")||\"{}\");return Array.isArray(e)?{}:e},i=function(i,t){var a=n();if(a[e]||(a[e]=[]),t)a[e].includes(i)||a[e].push(i);else{var d=a[e].indexOf(i);if(-1===d)return;a[e].splice(d,1)}!function(e){window.localStorage.setItem(\"iichan_hidden_threads\",JSON.stringify(e))}(a)},t=function(e){if(e){var n=e.querySelector(\":scope > .reflink\");if(n){var i=e.querySelector(\".iichan-post-btns\");i||((i=document.createElement(\"span\")).classList.add(\"iichan-post-btns\"),n.parentNode.insertBefore(i,n.nextSibling)),i.insertAdjacentHTML(\"afterbegin\",'\\n    <div class=\"iichan-hide-thread-btn\" title=\"Скрыть тред\" data-thread-id=\"'.concat(e.id,'\">\\n      <svg>\\n        <use class=\"iichan-icon-hide-use\" xlink:href=\"/extras/icons.svg#iichan-icon-hide\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"/>\\n        <use class=\"iichan-icon-unhide-use\" xlink:href=\"/extras/icons.svg#iichan-icon-unhide\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"/>\\n      </svg>\\n    </div>\\n  ').trim()),e.querySelector(\".iichan-hide-thread-btn\").addEventListener(\"click\",h)}}},a=function(e){if(e){var n=e.querySelector(\".catthread\");n.insertAdjacentHTML(\"beforeend\",'\\n    <div class=\"iichan-hide-thread-btn\" title=\"Скрыть тред\" data-thread-id=\"'.concat(e.id,'\">\\n      <svg>\\n        <use class=\"iichan-icon-hide-use\" xlink:href=\"/extras/icons.svg#iichan-icon-hide\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"/>\\n        <use class=\"iichan-icon-unhide-use\" xlink:href=\"/extras/icons.svg#iichan-icon-unhide\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"/>\\n      </svg>\\n    </div>\\n  ').trim());var i=n.querySelector(\".iichan-hide-thread-btn\");i.classList.add(\"reply\"),i.addEventListener(\"click\",o)}},d=function(i){var d=!!document.querySelector(\".catthreadlist\"),r=d?\".catthreadlist a\":\"[id^=thread]\",c=i&&i.id.startsWith(\"thread-\")?[i]:(i||document).querySelectorAll(r),o=d?a:t,s=n(),l=!0,u=!1,v=void 0;try{for(var p,f=c[Symbol.iterator]();!(l=(p=f.next()).done);l=!0){var y=p.value;y.id=d?\"thread-\"+y.title.match(/^#(\\d+)\\s/)[1]:y.id,o(y),s[e]&&(s[e].includes(y.id)&&h(y.id))}}catch(e){u=!0,v=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw v}}},r=function(e){if(\"string\"==typeof e)return e;for(var n=e.target;n&&(!n.dataset||!n.dataset.threadId);)n=n.parentElement;return n&&n.dataset.threadId},c=function(e){var n=r(e);i(n,!1);var t=document.getElementById(n);if(t){t.classList.remove(\"iichan-thread-hidden\");var a=document.getElementById(\"iichan-hidden-\"+n);a&&a.parentElement.removeChild(a),e.preventDefault&&e.preventDefault()}},h=function(e){var n=r(e);i(n,!0);var t=document.getElementById(n);t&&t.parentNode&&(t.classList.add(\"iichan-thread-hidden\"),!!document.querySelector(\".catthreadlist\")||function(e){if(e){var n=e.id.split(\"-\").pop(),i=e.querySelector(\".filetitle\").innerText||e.querySelector(\"blockquote\").innerText;i=i.substr(0,50);var t=\"iichan-hidden-\"+e.id;e.insertAdjacentHTML(\"beforebegin\",'\\n    <div class=\"reply iichan-hidden-thread-placeholder\" id=\"'.concat(t,'\">Тред <a title=\"Раскрыть тред\" data-thread-id=\"').concat(e.id,'\">№').concat(n,\"</a> скрыт (\").concat(i||\"изображение\",\")</div>\\n  \").trim()),e.previousElementSibling.querySelector(\":scope > a\").addEventListener(\"click\",c)}}(t),e.preventDefault&&e.preventDefault())},o=function(e){var n=r(e),t=n.split(\"-\").pop(),a=document.getElementById(\"thread-\"+t);i(n,a.classList.toggle(\"iichan-thread-hidden\")),e.preventDefault&&e.preventDefault()},s=function(){return document.body.classList.contains(\"de-runned\")||!!document.body.querySelector(\"#de-main\")},l=function(){s()||(JSON.parse(window.localStorage.getItem(\"iichan_settings\")||\"{}\").disable_hide_threads||document.querySelector(\"body.replypage\")||(document.head.insertAdjacentHTML(\"beforeend\",'<style type=\"text/css\">\\n      .iichan-hidden-thread-placeholder {\\n        pointer-events: none;\\n      }\\n      \\n      .iichan-hidden-thread-placeholder a {\\n        cursor: pointer;\\n        pointer-events: auto;\\n      }\\n      \\n      .iichan-hidden-thread-placeholder:hover + div,\\n      .iichan-hidden-thread-placeholder:hover + div + br {\\n        display: block !important;\\n      }\\n      \\n      .iichan-hidden-thread-placeholder + div {\\n        display: none;\\n      }\\n      .iichan-hidden-thread-placeholder + div +  br {\\n        display: none;\\n      }\\n      \\n      .iichan-hide-thread-btn {\\n        margin-left: 0.4em;\\n        cursor: pointer;\\n        display: inline-block;\\n        width: 16px;\\n        height: 16px;\\n        vertical-align: text-top;\\n      }\\n      \\n      .iichan-hide-thread-btn use {\\n        pointer-events: none;\\n      }\\n      \\n      .iichan-hide-thread-btn > svg {\\n        width: 16px;\\n        height: 16px;\\n      }\\n      \\n      [id^=thread]:not(.iichan-thread-hidden) .iichan-hide-thread-btn .iichan-icon-unhide-use {\\n        display: none;\\n      }\\n      \\n      [id^=thread].iichan-thread-hidden .iichan-hide-thread-btn .iichan-icon-hide-use {\\n        display: none;\\n      }\\n      \\n      .catthreadlist a {\\n        position: relative;\\n        transition: opacity .3s ease-in-out, filter .3s ease-in-out;\\n      }\\n      \\n      .catthreadlist .iichan-thread-hidden {\\n        opacity: .6;\\n      }\\n      \\n      .catthreadlist .iichan-thread-hidden:not(:hover) {\\n        opacity: .1;\\n        filter: grayscale(100%);\\n      }\\n      \\n      .catthread:hover .iichan-hide-thread-btn {\\n        display: block;\\n      }\\n      \\n      .catthread .iichan-hide-thread-btn {\\n        text-decoration: none;\\n        position: absolute;\\n        top: 0;\\n        right: 0;\\n        display: none;\\n        padding: 6px;\\n      }\\n      \\n      #iichan-hide-threads-icons {\\n        display: none;\\n      }\\n    </style>'),d(),\"MutationObserver\"in window&&new MutationObserver(function(e){s()||e.forEach(function(e){var n=!0,i=!1,t=void 0;try{for(var a,r=e.addedNodes[Symbol.iterator]();!(n=(a=r.next()).done);n=!0){var c=a.value;if(!c.querySelectorAll)return;d(c)}}catch(e){i=!0,t=e}finally{try{n||null==r.return||r.return()}finally{if(i)throw t}}})}).observe(document.body,{childList:!0,subtree:!0})))};document.body?l():document.addEventListener(\"DOMContentLoaded\",l)}();");}catch(e){}