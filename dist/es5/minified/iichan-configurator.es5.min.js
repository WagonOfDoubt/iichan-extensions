"use strict";!function(){var n=function(n){return"\n    .iichan-post-btns svg { color: ".concat(n," !important; }")},e=function(){return JSON.parse(window.localStorage.getItem("iichan_settings")||"{}")},t=function(n){var t,i=n.target,o=i.name;t="checkbox"===i.type?i.checked:i.value;var c=e();c[o]=t,function(n){window.localStorage.setItem("iichan_settings",JSON.stringify(n))}(c),a(o,c)},a=function(n,e){"post_btns_color_en"!==n&&"post_btns_color"!==n||i(e)},i=function(e){var t=null;e.post_btns_color_en&&(t=n(e.post_btns_color)),c("post_btns_color",t)},o=function(n){document.body.querySelector(".iichan-settings-panel").classList.toggle("iichan-settings-panel-show"),n.preventDefault()},c=function(n,e){var t=document.getElementById("iichan-style-".concat(n));t&&document.head.removeChild(t),e&&document.head.insertAdjacentHTML("beforeend",'<style type="text/css" id="iichan-style-'.concat(n,'">').concat(e,"</style>"))},l=function(){var n;document.head.insertAdjacentHTML("beforeend",'<style type="text/css">\n    .iichan-settings-panel {\n      display: none;\n      clear: both;\n      float: right;\n    }\n    \n    .iichan-settings-panel.iichan-settings-panel-show {\n      display: block;\n    }\n    \n    .iichan-settings-panel .theader {\n      width: auto;\n    }\n    \n    .iichan-settings-panel-content {\n      padding: 10px;\n    }\n    \n    </style>'),(n=Array.from(document.body.querySelectorAll(".adminbar")).pop())&&(n.insertAdjacentHTML("beforeend",'\n    <span class="iican-configurator-btn-container">[<a href="#" class="iican-configurator-btn">Настройки</a>]</span>\n    \n    '.trim()),n.querySelector(".iican-configurator-btn").addEventListener("click",o)),function(){var n=Array.from(document.body.querySelectorAll(".adminbar")).pop();if(n){n.insertAdjacentHTML("afterend",'\n    <form class="reply iichan-settings-panel">\n      <div class="theader">Настройки</div>\n      <div class="iichan-settings-panel-content">\n        <div>\n          <label><input type="checkbox" name="disable_quick_reply"> Отключить быстрый ответ</label>\n        </div>\n        <div>\n          <label><input type="checkbox" name="disable_hide_threads"> Отключить скрытие тредов</label>\n        </div>\n        <div>\n          <label><input type="checkbox" name="disable_expand_images"> Отключить разворот картинок</label>\n        </div>\n        <div>\n          <label><input type="checkbox" name="disable_video_player"> Отключить плеер видео</label>\n        </div>\n        <div>\n          <label><input type="checkbox" name="post_btns_color_en"> Цвет кнопок постов <input type="color" name="post_btns_color"></label>\n        </div>\n      </div>\n    </form>\n    \n    '.trim());var a=document.body.querySelector(".iichan-settings-panel");a.addEventListener("change",t);var i=e(),o=a.querySelectorAll("input[name]"),c=!0,l=!1,r=void 0;try{for(var s,d=o[Symbol.iterator]();!(c=(s=d.next()).done);c=!0){var p=s.value;"checkbox"===p.type?p.checked=i[p.name]:p.value=i[p.name]}}catch(n){l=!0,r=n}finally{try{c||null==d.return||d.return()}finally{if(l)throw r}}}}();var a=e();i(a)};document.body?l():document.addEventListener("DOMContentLoaded",l)}();