"use strict";!function(){var n={post_btns_color:function(n){return"\n    .catthread .iichan-hide-thread-btn svg,\n    .iichan-post-btns div > svg {\n      color: ".concat(n||"#000000"," !important;\n    }")},post_btns_color_hover:function(n){return"\n    .catthread .iichan-hide-thread-btn:hover svg,\n    .iichan-post-btns div:hover > svg {\n      color: ".concat(n||"#000000"," !important;\n    }")},post_btns_color_background:function(n){return"\n    .catthread .iichan-hide-thread-btn,\n    .iichan-post-btns div {\n      background-color: ".concat(n||"#000000"," !important;\n      border-radius: 3px;\n      padding: 2px;\n    }")}},e=function(){return JSON.parse(window.localStorage.getItem("iichan_settings")||"{}")},t=function(n){var t,a=n.target,o=a.name;t="checkbox"===a.type?a.checked:a.value;var c=e();c[o]=t,function(n){window.localStorage.setItem("iichan_settings",JSON.stringify(n))}(c),i(o,c)},i=function(e,t){var i=Object.keys(n),o=e;o.endsWith("_en")&&(o=o.slice(0,-"_en".length)),i.includes(o)&&a(t)},a=function(e){for(var t=0,i=Object.keys(n);t<i.length;t++){var a=i[t],o=null;e[a+"_en"]&&(o=n[a](e[a])),c(a,o)}},o=function(n){document.body.querySelector(".iichan-settings-panel").classList.toggle("iichan-settings-panel-show"),n.preventDefault()},c=function(n,e){var t=document.getElementById("iichan-style-".concat(n));t&&document.head.removeChild(t),e&&document.head.insertAdjacentHTML("beforeend",'<style type="text/css" id="iichan-style-'.concat(n,'">').concat(e,"</style>"))},s=function(){var n;document.head.insertAdjacentHTML("beforeend",'<style type="text/css">\n    .iichan-settings-panel {\n      display: none;\n      position: fixed;\n      right: 0;\n      bottom: 0;\n      overflow: auto;\n      max-height: 100%;\n    }\n    \n    .iichan-settings-panel.iichan-settings-panel-show {\n      display: block;\n    }\n    \n    .iichan-settings-panel .theader {\n      width: auto;\n    }\n    \n    .iichan-settings-panel-content {\n      padding: 0 10px 10px;\n    }\n    \n    .iichan-settings-panel-content input[type="color"] {\n      float: right;\n      clear: both;\n    }\n    \n    .iichan-settings-close-btn {\n      float: right;\n      cursor: pointer;\n      padding: 1px;\n    }\n    \n    .iichan-settings-close-btn svg {\n      width: 16px;\n      height: 16px;\n      vertical-align: text-top;\n    }\n    \n    .iichan-settings-close-btn use {\n      pointer-events: none;\n    }\n    \n    .iichan-settings-panel-content h5 {\n      margin: 10px 0 5px;\n    }\n    \n    #iichan-configurator-icons {\n      display: none;\n    }\n    \n    </style>'),(n=Array.from(document.body.querySelectorAll(".adminbar")).pop())&&(n.insertAdjacentHTML("beforeend",'\n    <span class="iican-configurator-btn-container">[<a href="#" class="iican-configurator-btn">Настройки</a>]</span>\n    \n    '.trim()),n.querySelector(".iican-configurator-btn").addEventListener("click",o)),function(){var n=Array.from(document.body.querySelectorAll(".adminbar")).pop();if(n){n.insertAdjacentHTML("afterend",'\n    <form class="reply iichan-settings-panel">\n       <div class="theader">Настройки<div class="iichan-settings-close-btn" title="Закрыть"><svg>\n        <use class="iichan-icon-settings-close-use" xlink:href="/extras/icons.svg#iichan-icon-close" width="16" height="16" viewBox="0 0 16 16"/>\n      </svg></div></div>\n      <div class="iichan-settings-panel-content">\n        <h5>Отключение функций</h5>\n        <div>\n          <label><input type="checkbox" name="disable_quick_reply"> Отключить быстрый ответ*</label>\n        </div>\n        <div>\n          <label><input type="checkbox" name="disable_hide_threads"> Отключить скрытие тредов*</label>\n        </div>\n        <div>\n          <label><input type="checkbox" name="disable_expand_images"> Отключить разворот картинок*</label>\n        </div>\n        <div>\n          <label><input type="checkbox" name="disable_video_player"> Отключить плеер видео*</label>\n        </div>\n        <small>* Требуется перезагрузка страницы</small>\n        <h5>Цвет кнопок постов</h5>\n        <div>\n          <label><input type="checkbox" name="post_btns_color_en"> Основной <input type="color" name="post_btns_color"></label>\n        </div>\n        <div>\n          <label><input type="checkbox" name="post_btns_color_hover_en"> По наведению <input type="color" name="post_btns_color_hover"></label>\n        </div>\n        <div>\n          <label><input type="checkbox" name="post_btns_color_background_en"> Фон <input type="color" name="post_btns_color_background"></label>\n        </div>\n      </div>\n    </form>\n    \n    '.trim());var i=document.body.querySelector(".iichan-settings-panel");i.addEventListener("change",t);var a=e(),c=i.querySelectorAll("input[name]"),s=!0,r=!1,l=void 0;try{for(var d,h=c[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){var p=d.value;"checkbox"===p.type?p.checked=a[p.name]:p.value=a[p.name]}}catch(n){r=!0,l=n}finally{try{s||null==h.return||h.return()}finally{if(r)throw l}}i.querySelector(".iichan-settings-close-btn").addEventListener("click",o)}}();var i=e();a(i)};document.body?s():document.addEventListener("DOMContentLoaded",s)}();