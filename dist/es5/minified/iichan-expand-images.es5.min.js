"use strict";!function(){var t=["jpg","jpeg","gif","png"],e=function(t){if(window.matchMedia("(min-width: 10cm)").matches){var e=t.currentTarget.querySelector(".thumb"),r=e.src==e.dataset.fullSrc;e.setAttribute("width",r?e.dataset.thumbWidth:e.dataset.fullWidth),e.setAttribute("height",r?e.dataset.thumbHeight:e.dataset.fullHeight),e.src=r?e.dataset.thumbSrc:e.dataset.fullSrc,t.preventDefault()}},r=function(r){var n=(r||document).querySelectorAll(".thumb"),a=!0,i=!1,d=void 0;try{for(var u,l=n[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value,o=c.parentNode;if(o){var h=o.href.split(".").pop();if(t.includes(h)){c.dataset.thumbWidth=c.getAttribute("width"),c.dataset.thumbHeight=c.getAttribute("height"),c.dataset.thumbSrc=c.src,c.dataset.fullSrc=o.href;var s=o.parentNode;if(s){var f=s.querySelector(".filesize > em");if(f){var m=f.innerText.match(/(\d+)x(\d+)/);null!==m&&(c.dataset.fullWidth=m[1],c.dataset.fullHeight=m[2],o.addEventListener("click",e))}}}}}}catch(t){i=!0,d=t}finally{try{a||null==l.return||l.return()}finally{if(i)throw d}}},n=function(){document.querySelector("#de-main")||(document.head.insertAdjacentHTML("beforeend",'<style type="text/css">\n      @media only screen and '.concat("(min-width: 10cm)",' {\n        a img.thumb {\n          margin: 0;\n          padding: 2px 20px;\n        }\n      \n        a img.thumb[src*="/src/"] {\n          height: auto;\n          max-width: calc(100% - 40px);\n        }\n      }\n    </style>')),r(),"MutationObserver"in window&&new MutationObserver(function(t){t.forEach(function(t){var e=!0,n=!1,a=void 0;try{for(var i,d=t.addedNodes[Symbol.iterator]();!(e=(i=d.next()).done);e=!0){var u=i.value;if(!u.querySelectorAll)return;r(u)}}catch(t){n=!0,a=t}finally{try{e||null==d.return||d.return()}finally{if(n)throw a}}})}).observe(document.body,{childList:!0,subtree:!0}))};document.body?n():document.addEventListener("DOMContentLoaded",n)}();